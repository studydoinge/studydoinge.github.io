<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python 编程入门 - SDE 学习资源</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- PDF导出库 - 使用支持中文的版本 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <!-- 引入支持中文的字体 -->
    <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        custom: {
                            base: '#CCFFE5',
                            dark: '#99F2CC',
                            text: '#0A5F38'
                        }
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .custom-btn {
                @apply inline-flex items-center bg-custom-base text-custom-text font-medium py-2 px-4 rounded-lg transition-all duration-300 hover:bg-custom-dark hover:scale-105 shadow-md;
            }
            .export-btn {
                @apply inline-flex items-center bg-red-100 text-red-600 font-medium py-2 px-4 rounded-lg transition-all duration-300 hover:bg-red-200 hover:scale-105 shadow-md;
            }
            .code-block {
                @apply bg-gray-800 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm my-4;
            }
            .loading-overlay {
                @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden;
            }
            .loading-spinner {
                @apply w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin;
            }
            .loading-text {
                @apply text-white text-xl mt-4;
            }
            .audio-controls {
                @apply bg-blue-50 p-4 rounded-lg flex items-center gap-4 mb-6;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- 导航栏 -->
    <header class="bg-white shadow-sm sticky top-0 z-40 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center">
            <div class="flex items-center gap-2 mb-4 md:mb-0">
                <i class="fa fa-code text-blue-500 text-2xl"></i>
                <h1 class="text-xl font-bold text-blue-500">SDE 学习资源</h1>
            </div>
            <nav class="flex gap-3 md:gap-6">
                <a href="index.html" class="custom-btn"><i class="fa fa-home mr-1"></i> 首页</a>
                <a href="articles.html" class="custom-btn"><i class="fa fa-file-text-o mr-1"></i> 文章</a>
                <a href="resources.html" class="custom-btn"><i class="fa fa-book mr-1"></i> 资源</a>
                <a href="about.html" class="custom-btn"><i class="fa fa-info-circle mr-1"></i> 关于</a>
                <a href="help.html" class="custom-btn"><i class="fa fa-question-circle mr-1"></i> 帮助</a>
            </nav>
        </div>
    </header>

    <!-- 文章详情 -->
    <section class="container mx-auto px-4 py-8">
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- 文章主体 -->
            <div class="lg:w-2/3">
                <article class="bg-white rounded-xl shadow-md overflow-hidden" id="articleContent">
                    <!-- 文章封面 -->
                    <img src="https://picsum.photos/id/0/1200/600" alt="Python基础教程" class="w-full h-64 md:h-96 object-cover">
                    
                    <!-- 文章工具栏 -->
                    <div class="p-6 border-b border-gray-100 flex flex-wrap justify-between items-center gap-4">
                        <div class="flex flex-wrap gap-2">
                            <span class="bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-sm">编程基础</span>
                            <span class="text-gray-500 text-sm"><i class="fa fa-calendar-o mr-1"></i> 2024-01-15</span>
                            <span class="text-gray-500 text-sm"><i class="fa fa-clock-o mr-1"></i> 15分钟阅读</span>
                        </div>
                        <div class="flex gap-3">
                            <button id="exportPdfBtn" class="export-btn">
                                <i class="fa fa-file-pdf-o mr-1"></i> 导出PDF
                            </button>
                        </div>
                    </div>
                    
                    <!-- 音频朗读控件 -->
                    <div class="audio-controls px-6">
                        <button id="audioToggle" class="w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center hover:bg-blue-600 transition-colors">
                            <i class="fa fa-play"></i>
                        </button>
                        <div>
                            <p class="font-medium">文章朗读</p>
                            <p class="text-sm text-gray-600">点击播放按钮听取文章内容</p>
                        </div>
                        <audio id="articleAudio" preload="none">
                            <source src=""\resource\ADIUO\python-basics.MP3"" type="audio/mpeg">
                            您的浏览器不支持音频播放
                        </audio>
                    </div>
                    
                    <!-- 文章内容 -->
                    <div class="p-6">
                        <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-6">Python 编程入门：从零到一的学习路径</h1>
                        
                        <!-- 文章正文 -->
                        <div class="text-gray-700 space-y-4">
                            <p>Python 是一种简单易学、功能强大的编程语言，特别适合零基础的学生入门。本文将带你从环境搭建开始，逐步掌握Python的核心基础知识。</p>
                            
                            <h2 class="text-xl font-bold mt-8 mb-4">一、Python环境搭建</h2>
                            <p>首先需要在电脑上安装Python环境，推荐使用Python 3.8及以上版本。</p>
                            <h3 class="text-lg font-semibold mt-4 mb-2">1.1 下载Python</h3>
                            <p>访问<a href="https://www.python.org/downloads/" target="_blank" class="text-blue-500 hover:underline">Python官网</a>，根据操作系统选择对应的安装包（Windows/macOS/Linux）。</p>
                            <h3 class="text-lg font-semibold mt-4 mb-2">1.2 安装步骤（以Windows为例）</h3>
                            <ol class="list-decimal pl-6 space-y-2 mb-4">
                                <li>双击下载的安装包，勾选「Add Python 3.x to PATH」（非常重要）</li>
                                <li>点击「Install Now」进行默认安装</li>
                                <li>安装完成后，打开命令提示符（CMD），输入 <code class="bg-gray-100 px-1 py-0.5 rounded">python --version</code>，显示版本号即安装成功</li>
                            </ol>
                            
                            <h2 class="text-xl font-bold mt-8 mb-4">二、第一个Python程序</h2>
                            <p>安装完成后，我们来编写第一个Python程序——输出"Hello, World!"。</p>
                            <h3 class="text-lg font-semibold mt-4 mb-2">2.1 使用IDLE（Python自带编辑器）</h3>
                            <ol class="list-decimal pl-6 space-y-2 mb-4">
                                <li>从开始菜单找到「Python 3.x」→「IDLE」并打开</li>
                                <li>在IDLE中输入 <code class="bg-gray-100 px-1 py-0.5 rounded">print("Hello, World!")</code></li>
                                <li>按下Enter键，即可看到输出结果</li>
                            </ol>
                            <div class="code-block">
                                # 第一个Python程序<br>
                                print("Hello, World!")<br>
                                # 输出结果：Hello, World!
                            </div>
                            
                            <h2 class="text-xl font-bold mt-8 mb-4">三、Python基础语法</h2>
                            <h3 class="text-lg font-semibold mt-4 mb-2">3.1 变量与数据类型</h3>
                            <p>Python中的变量不需要声明类型，直接赋值即可。常见的数据类型包括字符串（str）、整数（int）、浮点数（float）、布尔值（bool）。</p>
                            <div class="code-block">
                                # 变量赋值<br>
                                name = "小明"  # 字符串<br>
                                age = 20       # 整数<br>
                                score = 95.5   # 浮点数<br>
                                is_student = True  # 布尔值<br>
                                <br>
                                # 输出变量<br>
                                print("姓名：", name)<br>
                                print("年龄：", age)<br>
                                print("成绩：", score)
                            </div>
                            
                            <h3 class="text-lg font-semibold mt-6 mb-2">3.2 条件语句</h3>
                            <p>使用if-else语句进行条件判断，例如根据成绩判断等级。</p>
                            <div class="code-block">
                                # 条件语句示例<br>
                                score = 85<br>
                                <br>
                                if score >= 90:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print("优秀")<br>
                                elif score >= 80:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print("良好")<br>
                                elif score >= 60:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print("及格")<br>
                                else:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print("不及格")<br>
                                <br>
                                # 输出结果：良好
                            </div>
                            
                            <h2 class="text-xl font-bold mt-8 mb-4">四、实战案例：简易计算器</h2>
                            <p>下面我们来编写一个简易计算器，实现两个数的加减乘除运算。</p>
                            <div class="code-block">
                                # 简易计算器<br>
                                print("简易计算器")<br>
                                print("1. 加法")<br>
                                print("2. 减法")<br>
                                print("3. 乘法")<br>
                                print("4. 除法")<br>
                                <br>
                                # 获取用户输入<br>
                                choice = input("请选择操作（1-4）：")<br>
                                num1 = float(input("请输入第一个数字："))<br>
                                num2 = float(input("请输入第二个数字："))<br>
                                <br>
                                # 执行计算<br>
                                if choice == "1":<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print(f"结果：{num1} + {num2} = {num1 + num2}")<br>
                                elif choice == "2":<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print(f"结果：{num1} - {num2} = {num1 - num2}")<br>
                                elif choice == "3":<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print(f"结果：{num1} × {num2} = {num1 * num2}")<br>
                                elif choice == "4":<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;if num2 != 0:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(f"结果：{num1} ÷ {num2} = {num1 / num2}")<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;else:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("错误：除数不能为0")<br>
                                else:<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;print("错误：请选择1-4之间的操作")
                            </div>
                            
                            <h2 class="text-xl font-bold mt-8 mb-4">五、后续学习建议</h2>
                            <p>掌握了基础语法后，可以按照以下路径继续学习：</p>
                            <ul class="list-disc pl-6 space-y-2 mb-4">
                                <li>列表、字典、元组等数据结构</li>
                                <li>循环语句（for、while）</li>
                                <li>函数定义与调用</li>
                                <li>面向对象编程</li>
                                <li>常用模块（如math、random、os）</li>
                            </ul>
                        </div>
                        
                        <!-- 文章底部 -->
                        <div class="mt-10 pt-6 border-t border-gray-200">
                            <h3 class="text-lg font-semibold mb-4">相关推荐</h3>
                            <div class="flex flex-wrap gap-4">
                                <a href="algorithms.html" class="bg-gray-100 hover:bg-gray-200 transition-colors px-3 py-1.5 rounded-full text-sm">数据结构与算法</a>
                                <a href="web-dev.html" class="bg-gray-100 hover:bg-gray-200 transition-colors px-3 py-1.5 rounded-full text-sm">Web前端开发</a>
                                <a href="database.html" class="bg-gray-100 hover:bg-gray-200 transition-colors px-3 py-1.5 rounded-full text-sm">SQL数据库基础</a>
                            </div>
                            <div class="mt-8 flex gap-4">
                                <a href="articles.html" class="custom-btn"><i class="fa fa-arrow-left mr-2"></i> 返回文章列表</a>
                                <a href="#" class="custom-btn bg-blue-500 text-white hover:bg-blue-600"><i class="fa fa-share mr-2"></i> 分享本文</a>
                            </div>
                        </div>
                    </div>
                </article>
            </div>

            <!-- 侧边栏 -->
            <div class="lg:w-1/3">
                <!-- 作者信息 -->
                <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                    <div class="flex items-center gap-4 mb-4">
                        <img src="https://picsum.photos/id/1005/200/200" alt="作者头像" class="w-16 h-16 rounded-full object-cover">
                        <div>
                            <h4 class="font-bold text-lg">李老师</h4>
                            <p class="text-gray-500 text-sm">Python高级讲师 | 10年教学经验</p>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-4">专注于Python教学，擅长将复杂知识简化，帮助学生快速入门编程。</p>
                    <a href="#" class="custom-btn w-full justify-center">查看更多文章</a>
                </div>

                <!-- 热门文章 -->
                <div class="bg-white rounded-xl shadow-md p-6 mb-6">
                    <h4 class="font-bold text-lg mb-4 flex items-center gap-2"><i class="fa fa-fire text-red-500"></i> 热门文章</h4>
                    <div class="space-y-4">
                        <a href="algorithms.html" class="block group">
                            <div class="flex gap-3">
                                <img src="https://picsum.photos/id/180/200/200" alt="算法" class="w-20 h-20 rounded object-cover group-hover:scale-105 transition-transform">
                                <div>
                                    <h5 class="font-medium text-gray-800 group-hover:text-blue-500 transition-colors line-clamp-2">数据结构与算法：面试必备知识点</h5>
                                    <p class="text-gray-500 text-xs mt-1"><i class="fa fa-eye mr-1"></i> 980次浏览</p>
                                </div>
                            </div>
                        </a>
                        <a href="web-dev.html" class="block group">
                            <div class="flex gap-3">
                                <img src="https://picsum.photos/id/160/200/200" alt="Web开发" class="w-20 h-20 rounded object-cover group-hover:scale-105 transition-transform">
                                <div>
                                    <h5 class="font-medium text-gray-800 group-hover:text-blue-500 transition-colors line-clamp-2">现代前端开发：从HTML到React</h5>
                                    <p class="text-gray-500 text-xs mt-1"><i class="fa fa-eye mr-1"></i> 850次浏览</p>
                                </div>
                            </div>
                        </a>
                        <a href="database.html" class="block group">
                            <div class="flex gap-3">
                                <img src="https://picsum.photos/id/119/200/200" alt="数据库" class="w-20 h-20 rounded object-cover group-hover:scale-105 transition-transform">
                                <div>
                                    <h5 class="font-medium text-gray-800 group-hover:text-blue-500 transition-colors line-clamp-2">SQL基础到进阶：数据库查询技巧</h5>
                                    <p class="text-gray-500 text-xs mt-1"><i class="fa fa-eye mr-1"></i> 720次浏览</p>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 导出加载提示 -->
    <div id="loadingOverlay" class="loading-overlay">
        <div>
            <div class="loading-spinner"></div>
            <div class="loading-text">正在生成PDF文件...</div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between gap-8">
                <div>
                    <h4 class="text-xl font-bold mb-4 flex items-center gap-2"><i class="fa fa-code text-blue-400"></i> SDE 学习资源</h4>
                    <p class="text-gray-400">为学生提供高质量的软件开发学习内容，助力技术成长</p>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-4">快速链接</h5>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-400 hover:text-white transition-colors">首页</a></li>
                        <li><a href="articles.html" class="text-gray-400 hover:text-white transition-colors">文章</a></li>
                        <li><a href="resources.html" class="text-gray-400 hover:text-white transition-colors">资源</a></li>
                        <li><a href="about.html" class="text-gray-400 hover:text-white transition-colors">关于</a></li>
                        <li><a href="help.html" class="text-gray-400 hover:text-white transition-colors">帮助</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-4">关注我们</h5>
                    <div class="flex gap-4">
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-blue-600 transition-colors" title="B站">
                            <i class="fa fa-play-circle"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-red-600 transition-colors" title="抖音">
                            <i class="fa fa-music"></i>
                        </a>
                        <a href="mailto:contact@sde-study.com" class="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center hover:bg-green-600 transition-colors" title="电子邮件">
                            <i class="fa fa-envelope-o"></i>
                        </a>
                    </div>
                    <p class="mt-4 text-gray-400">联系我们: contact@sde-study.com</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-500">
                &copy; 2024 SDE 学习资源 | 学生专属学习平台
            </div>
        </div>
    </footer>

    <script>
        // 导航栏滚动效果
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('py-2', 'shadow');
                header.classList.remove('py-4', 'shadow-sm');
            } else {
                header.classList.add('py-4', 'shadow-sm');
                header.classList.remove('py-2', 'shadow');
            }
        });

        // 音频播放功能
        const audioToggle = document.getElementById('audioToggle');
        const articleAudio = document.getElementById('articleAudio');
        
        audioToggle.addEventListener('click', function() {
            if (articleAudio.paused) {
                articleAudio.play()
                    .then(() => {
                        audioToggle.innerHTML = '<i class="fa fa-pause"></i>';
                    })
                    .catch(error => {
                        console.error('音频播放失败:', error);
                        alert('音频播放失败，请检查文件路径是否正确: /resource/AUDIO/python-basics.mp3');
                    });
            } else {
                articleAudio.pause();
                audioToggle.innerHTML = '<i class="fa fa-play"></i>';
            }
        });

        // PDF导出功能 - 修复乱码问题
        document.addEventListener('DOMContentLoaded', function() {
            const { jsPDF } = window.jspdf;
            const exportBtn = document.getElementById('exportPdfBtn');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const articleContent = document.getElementById('articleContent');
            const articleTitle = document.querySelector('h1').textContent || 'Python编程入门';
            
            // 预加载支持中文的字体数据（使用base64编码的字体）
            // 这里使用思源黑体作为示例，实际使用时需要正确的字体数据
            const chineseFontData = null; // 在实际应用中需要提供字体数据
            
            exportBtn.addEventListener('click', async function() {
                try {
                    // 显示加载状态
                    loadingOverlay.classList.remove('hidden');
                    exportBtn.disabled = true;
                    exportBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-1"></i> 处理中...';
                    
                    // 使用html2canvas方法生成PDF（解决中文乱码问题）
                    await generatePDFWithHtml2Canvas();
                    
                    // 提示成功
                    alert('PDF导出成功！文件已保存到下载目录。');
                } catch (error) {
                    console.error('PDF导出失败:', error);
                    alert('PDF导出失败: ' + error.message);
                } finally {
                    // 恢复状态
                    loadingOverlay.classList.add('hidden');
                    exportBtn.disabled = false;
                    exportBtn.innerHTML = '<i class="fa fa-file-pdf-o mr-1"></i> 导出PDF';
                }
            });
            
            // 使用html2canvas方法生成PDF（解决中文显示问题）
            async function generatePDFWithHtml2Canvas() {
                // 创建PDF实例
                const pdf = new jsPDF('p', 'mm', 'a4');
                
                // 获取文章内容元素
                const content = document.querySelector('#articleContent .p-6');
                
                // 克隆内容元素以避免影响原始页面
                const clonedContent = content.cloneNode(true);
                
                // 移除不需要导出的元素
                const unwantedElements = clonedContent.querySelectorAll('a, button, .audio-controls');
                unwantedElements.forEach(el => el.remove());
                
                // 将克隆元素添加到页面（但隐藏它）
                clonedContent.style.position = 'absolute';
                clonedContent.style.top = '-9999px';
                clonedContent.style.left = '-9999px';
                clonedContent.style.width = content.offsetWidth + 'px';
                document.body.appendChild(clonedContent);
                
                try {
                    // 使用html2canvas将内容转换为图片
                    const canvas = await html2canvas(clonedContent, {
                        scale: 2, // 提高分辨率
                        useCORS: true, // 允许跨域图片
                        logging: false
                    });
                    
                    // 将canvas转换为图片数据
                    const imgData = canvas.toDataURL('image/jpeg', 0.95);
                    
                    // A4尺寸，单位是mm
                    const imgWidth = 210;
                    const pageHeight = 297;
                    const imgHeight = canvas.height * imgWidth / canvas.width;
                    
                    let heightLeft = imgHeight;
                    let position = 0;
                    
                    // 添加图片到PDF
                    pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                    
                    // 处理分页
                    while (heightLeft > 0) {
                        position = heightLeft - imgHeight;
                        pdf.addPage();
                        pdf.addImage(imgData, 'JPEG', 0, position, imgWidth, imgHeight);
                        heightLeft -= pageHeight;
                    }
                    
                    // 保存PDF
                    pdf.save(`${articleTitle}.pdf`);
                } finally {
                    // 清理克隆元素
                    document.body.removeChild(clonedContent);
                }
            }
        });
    </script>
</body>
</html>
    